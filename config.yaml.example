# PoliceTracker Configuration

# Channels to monitor
channels:
  - name: "Somerset County NJ"
    url: "https://broadcastify.com/stream/..."
    keywords:
      - "accident"
      - "pursuit"
      - "shots fired"
      - "officer down"
    location: "Somerset County, NJ"
    priority: 7
    enabled: true
  
  - name: "Parkway Channel 1"
    url: "https://broadcastify.com/stream/..."
    keywords:
      - "traffic stop"
      - "accident"
    location: "Garden State Parkway"
    priority: 5
    enabled: true

# Alert settings
alerts:
  webhook_url: ""  # Optional: webhook endpoint for notifications
  api_endpoint: "http://localhost:8892/api/events"  # PoliceTracker Web API endpoint
  api_token: ""  # Optional: API token for POSTing events
  
# Processing settings
processing:
  use_transcription: false  # Enable speech-to-text (increases CPU usage)
  transcription_model: "base"  # whisper model size: tiny, base, small, medium, large
  audio_chunk_duration: 10  # seconds per chunk for processing
  keyword_match_threshold: 0.8  # confidence threshold for keyword matching
  sample_rate: 16000  # audio sample rate for processing
  # False-positive controls (recommended when using public feeds that may contain ad inserts)
  min_transcript_length: 18  # ignore very short/empty transcripts
  ad_block_enabled: true  # suppress obvious ad reads (best-effort)
  gate_ambiguous_single_words: true  # require dispatch context for certain single-word keywords
  ambiguous_single_word_keywords:
    - "shooting"
    - "robbery"
    - "armed"
    - "pursuit"
  keyword_cooldown_seconds: 180  # per-channel cooldown per keyword (prevents spam)

# Server settings
server:
  host: "0.0.0.0"
  port: 8891
  debug: false
